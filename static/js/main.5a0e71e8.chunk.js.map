{"version":3,"sources":["components/Login/login.jsx","components/Users/users.module.css","components/Header/Header.module.css","redux/profileReducer.js","redux/dialogsReducer.js","api/api.js","components/Navbar/Navbar.module.css","redux/authReducer.js","components/Navbar/Navbar.jsx","components/News/News.jsx","components/Music/Music.jsx","components/Settings/Settings.jsx","utils/object-helpers.js","redux/usersReducer.js","components/common/Paginator/Paginator.jsx","components/Users/User.jsx","components/Users/Users.jsx","redux/usersSelectors.js","components/Users/UsersContainer.jsx","components/Header/Header.jsx","components/Header/HeaderContainer.jsx","redux/appReducer.js","redux/redux-store.js","hoc/withSuspense.js","App.js","reportWebVitals.js","index.js","assets/images/preloader.gif","components/common/preloader/Preloader.js","components/common/formsControlls/FormsControlls.module.css","components/common/Paginator/Paginator.module.css","components/common/formsControlls/FormsControlls.js","utils/validators.js"],"names":["LoginReduxForm","reduxForm","form","handleSubmit","error","onSubmit","placeholder","component","Input","name","validate","requiredField","type","className","styles","formSummaryError","connect","state","isAuth","auth","login","props","to","formData","email","password","rememberMe","module","exports","ADD_POST","SET_USER_PROFILE","SET_STATUS","DELETE_POST","initialState","posts","id","message","likesCount","profile","status","addPostActionCreator","postText","setStatus","getUserProfile","userId","dispatch","a","usersAPI","getProfile","response","data","getUserStatus","profileAPI","getStatus","updateUserStatus","updateStatus","resultCode","profileReducer","action","newPost","newPostText","filter","p","postId","SEND_MESSAGE","dialogs","messages","sendMessageCreator","newMessageBody","dialogsReducer","messageText","instance","axios","create","baseURL","withCredentials","headers","getUsers","currentPage","pageSize","get","postUser","post","deleteUser","delete","put","authAPI","me","logout","SET_USER_DATA","setAuthUserData","getAuthUserData","stopSubmit","_error","AuthReducer","Navbar","classes","nav","item","activeClassName","active","News","Music","Settings","updateObjectInArray","items","itemId","objPropName","obj","map","u","FOLLOW","UNFOLLOW","SET_USERS","SET_CURRENT_PAGE","SET_TOTAL_USERS_COUNT","TOGGLE_IS_FETCHING","TOGGLE_FOLLOWING_IS_PROGRESS","initiallState","users","totalUsersCount","isFetching","isFollowingInProgress","follow","unfollow","setUsers","setCurrentPage","toggleIsFetching","toggleFollowingProgress","followUnfollowFlow","apiMethod","actionCreator","UsersReducer","followed","Pagination","pagesCount","Math","ceil","pages","i","push","portionCount","useState","portionNumber","setPortionNumber","leftBorder","rightBorder","btn","onClick","selectedPage","pageNum","e","onPageChanged","User","user","src","photos","small","userPhoto","alt","disabled","some","acceptUnfollow","acceptFollow","Users","addUsers","usersPage","getPageSize","getTotalUsersCount","getCurrentPage","getIsFetching","getIsFollowingInProgress","UsersAPIComponent","pageChanged","this","Preloader","React","Component","compose","totalCount","bind","Header","header","loginBlock","HeaderContainer","SET_INITIALISED","initialised","appReducer","reducer","combineReducers","profilePage","dialogsPage","formReducer","app","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","store","createStore","applyMiddleware","thunkMiddleware","__store__","withSuspense","fallback","DialogsContainer","lazy","ProfileContainer","App","initialise","path","render","UsersContainer","AppContainer","withRouter","then","MainApp","basename","process","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","document","getElementById","preloader","FormControl","input","meta","hasError","touched","formControl","children","Textarea","value","maxLengthCreator","maxLength","length"],"mappings":"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","file":"static/js/main.5a0e71e8.chunk.js","sourcesContent":["import React from \"react\"\r\nimport { reduxForm, Field } from \"redux-form\"\r\nimport { connect } from \"react-redux\"\r\nimport { requiredField } from \"../../utils/validators\"\r\nimport { Input } from \"../common/formsControlls/FormsControlls\"\r\nimport { login } from \"../../redux/authReducer\"\r\nimport { Redirect } from \"react-router-dom\"\r\nimport styles from \"../common/formsControlls/FormsControlls.module.css\"\r\n\r\nconst LoginForm = ({handleSubmit, error}) => {\r\n\r\n  return (\r\n    <form onSubmit={handleSubmit}>\r\n      <div>\r\n        <Field placeholder={\"Email\"} component={Input} name={\"email\"} validate={[requiredField]}/>\r\n      </div>\r\n      <div>\r\n        <Field placeholder={\"Password\"} component={Input} name={\"password\"} type={\"password\"} validate={[requiredField]}/>\r\n      </div>\r\n      <div>\r\n        <Field component={Input} type={\"checkbox\"} name={\"rememberMe\"}/>Remember me\r\n      </div>\r\n      {error && <div className={styles.formSummaryError}>\r\n        {error}\r\n      </div>}\r\n      <div>\r\n        <button>Login</button>\r\n      </div>\r\n    </form>\r\n  )\r\n}\r\n\r\nconst LoginReduxForm = reduxForm({\r\n  form: 'login'\r\n})(LoginForm)\r\n\r\nconst Login = (props) => {\r\n\r\n  const onSubmit = (formData) => {\r\n    props.login(formData.email, formData.password, formData.rememberMe);\r\n  }\r\n\r\n  if(props.isAuth)\r\n  {\r\n    return <Redirect to={\"/profile\"}/>\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <h1>Login</h1>\r\n      <LoginReduxForm onSubmit={onSubmit}/>\r\n    </div>\r\n  )\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n  isAuth: state.auth.isAuth\r\n})\r\n\r\nexport default connect(mapStateToProps, {login})(Login);","// extracted by mini-css-extract-plugin\nmodule.exports = {\"userPhoto\":\"users_userPhoto__2zIfs\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Header_header__XctLK\",\"loginBlock\":\"Header_loginBlock__2mkg0\"};","import { profileAPI, usersAPI } from \"../api/api\"\r\n\r\nconst ADD_POST = 'ADD-POST'\r\nconst SET_USER_PROFILE = 'SET_USER_PROFILE'\r\nconst SET_STATUS = 'SET_STATUS'\r\nconst DELETE_POST = 'DELETE_POST'\r\n\r\nlet initialState = {\r\n  posts: [\r\n    {id: 1, message: \"Hi, how are you?\", likesCount: 12},\r\n    {id: 2, message: \"It's my first post\", likesCount: 23}\r\n  ],\r\n  profile: null,\r\n  status: ''\r\n};\r\n\r\nconst profileReducer = (state = initialState, action) => {\r\n  switch(action.type)\r\n  {\r\n    case ADD_POST:{\r\n      let newPost = {\r\n        id: 5,\r\n        message: action.postText,\r\n        likesCount: 0\r\n      };\r\n\r\n      return {\r\n        ...state,\r\n        newPostText: \"\",\r\n        posts: [...state.posts, newPost]\r\n      };\r\n    }\r\n    case SET_USER_PROFILE: {\r\n      return {\r\n        ...state,\r\n        profile: action.profile\r\n      }\r\n    }\r\n    case SET_STATUS: {\r\n      return {\r\n        ...state,\r\n        status: action.status\r\n      }\r\n    }\r\n    case DELETE_POST: {\r\n      return {\r\n        ...state,\r\n        posts: state.posts.filter(p => p.id !== action.postId)\r\n      }\r\n    }\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n\r\nexport const addPostActionCreator = (postText) => ({ type: ADD_POST, postText })\r\n\r\nexport const deletePostActionCreator = (postId) => ({ type: DELETE_POST, postId })\r\n\r\nexport const setUserProfile = (profile) => ({\r\n  type: SET_USER_PROFILE,\r\n  profile\r\n})\r\n\r\nexport const setStatus = (status) => ({\r\n  type: SET_STATUS,\r\n  status\r\n})\r\n\r\nexport const getUserProfile = (userId) => async (dispatch) => {\r\n  let response = await usersAPI.getProfile(userId);\r\n\r\n  dispatch(setUserProfile(response.data));\r\n}\r\n\r\nexport const getUserStatus = (userId) => async (dispatch) => {\r\n  let response = await profileAPI.getStatus(userId);\r\n  dispatch(setStatus(response.data));\r\n}\r\n\r\nexport const updateUserStatus = (status) => async (dispatch) => {\r\n  let response = await profileAPI.updateStatus(status);\r\n  if(response.data.resultCode === 0)\r\n  {\r\n    dispatch(setStatus(status));\r\n  }\r\n}\r\n\r\nexport default profileReducer;","const SEND_MESSAGE = 'SEND-MESSAGE'\r\n\r\nlet initialState = {\r\n  dialogs: [\r\n    {id: 1, name: 'Dimych'},\r\n    {id: 2, name: 'Andrey'},\r\n    {id: 3, name: 'Sveta'},\r\n    {id: 4, name: 'Sasha'},\r\n    {id: 5, name: 'Viktor'},\r\n    {id: 6, name: 'Valera'}\r\n  ],\r\n  messages: [\r\n    {id: 1, message: 'Hi'},\r\n    {id: 2, message: 'How is your it-kamasutra'},\r\n    {id: 3, message: 'Yo'},\r\n    {id: 4, message: 'Yo'},\r\n    {id: 5, message: 'Yo'}\r\n  ]\r\n};\r\n\r\nconst dialogsReducer = (state = initialState, action) => {\r\n  switch(action.type)\r\n  {\r\n    case SEND_MESSAGE: {\r\n      let messageText = action.newMessageBody;\r\n\r\n      return {\r\n        ...state,\r\n        messages: [...state.messages, {id: 6, message: messageText}]\r\n      };\r\n    }\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n\r\nexport const sendMessageCreator = (newMessageBody) => ({\r\n  type: SEND_MESSAGE,\r\n  newMessageBody\r\n }) \r\n\r\nexport default dialogsReducer;","import axios from \"axios\";\r\nimport Login from \"../components/Login/login\";\r\n\r\nconst instance = axios.create({\r\n  baseURL: \"https://social-network.samuraijs.com/api/1.0/\",\r\n  withCredentials:true,\r\n  headers: {\r\n    \"API-KEY\":\"f5f4312b-8f14-4ae1-8229-56cf693e7421\"\r\n  }\r\n});\r\n\r\nexport const usersAPI = {\r\n  async getUsers(currentPage, pageSize)\r\n  {\r\n    const response = await instance.get(`users?page=${currentPage}&count=${pageSize}`);\r\n    return response.data;\r\n  },\r\n\r\n  async postUser(id)\r\n  {\r\n    const response = await instance.post(`follow/${id}`);\r\n    return response.data;\r\n  },\r\n\r\n  async deleteUser(id)\r\n  {\r\n    const response = await instance.delete(`follow/${id}`);\r\n    return response.data;\r\n  },\r\n\r\n  getProfile(userId)\r\n  {\r\n    return profileAPI.getProfile(userId);\r\n  }\r\n}\r\n\r\nexport const profileAPI = {\r\n  getProfile(userId)\r\n  {\r\n    return instance.get(`profile/${userId}`);\r\n  },\r\n\r\n  getStatus(userId)\r\n  {\r\n    return instance.get(`profile/status/${userId}`);\r\n  },\r\n\r\n  updateStatus(status)\r\n  {\r\n    return instance.put(`profile/status`, {status}); \r\n  }\r\n}\r\n\r\nexport const authAPI = {\r\n  me() {\r\n    return instance.get(`auth/me`);\r\n  },\r\n  \r\n  login(email, password, rememberMe = false) {\r\n    return instance.post(`auth/login`, {email, password, rememberMe});\r\n  },\r\n\r\n  logout() {\r\n    return instance.delete(`auth/login`);\r\n  }\r\n}","// extracted by mini-css-extract-plugin\nmodule.exports = {\"nav\":\"Navbar_nav__1aoC5\",\"item\":\"Navbar_item__ns24g\",\"active\":\"Navbar_active__3013a\"};","import { stopSubmit } from \"redux-form\"\r\nimport { authAPI } from \"../api/api\"\r\n\r\nconst SET_USER_DATA = 'SET_USER_DATA'\r\n\r\nlet initialState = {\r\n  userId: null,\r\n  email: null,\r\n  login: null,\r\n  isAuth: false\r\n}\r\n\r\nconst AuthReducer = (state=initialState, action) => {\r\n  switch(action.type)\r\n  {\r\n    case SET_USER_DATA:\r\n      return {\r\n        ...state,\r\n        ...action.data\r\n      }\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n\r\nexport const setAuthUserData = (userId, email, login, isAuth) => ({\r\n  type: SET_USER_DATA, data: {userId, email, login, isAuth}\r\n})\r\n\r\nexport const getAuthUserData = () => async (dispatch) => {\r\n  let response  = await authAPI.me();\r\n  if(response.data.resultCode === 0)\r\n  {\r\n    let {id, login, email} = response.data.data;\r\n\r\n    dispatch(setAuthUserData(id, email, login, true));\r\n  }\r\n}\r\n\r\nexport const login = (email, password, rememberMe) => async (dispatch) => {\r\n  let response = await authAPI.login(email, password, rememberMe);\r\n  if(response.data.resultCode === 0)\r\n  {\r\n    dispatch(getAuthUserData());\r\n  } else {\r\n    dispatch(stopSubmit(\"login\", {_error: response.data.messages}));\r\n  }\r\n}\r\n\r\nexport const logout = () => async (dispatch) => {\r\n  let response = await authAPI.logout();\r\n  if(response.data.resultCode === 0)\r\n  {\r\n    dispatch(setAuthUserData(null, null, null, false));\r\n  }\r\n}\r\n\r\nexport default AuthReducer;","import React from 'react';\r\nimport { NavLink } from 'react-router-dom';\r\nimport classes from './Navbar.module.css';\r\n\r\nconst Navbar = () => {\r\n  return (\r\n    <nav className={classes.nav}>\r\n      <div className={classes.item}>\r\n        <NavLink to=\"/profile\" activeClassName={classes.active}>Profile</NavLink>\r\n      </div>\r\n      <div className={classes.item}>\r\n        <NavLink to=\"/dialogs\" activeClassName={classes.active}>Messages</NavLink>\r\n      </div>\r\n      <div className={classes.item}>\r\n        <NavLink to=\"/news\" activeClassName={classes.active}>News</NavLink>\r\n      </div>\r\n      <div className={classes.item}>\r\n        <NavLink to=\"/music\" activeClassName={classes.active}>Music</NavLink>\r\n      </div>\r\n      <div className={classes.item}>\r\n        <NavLink to=\"/settings\" activeClassName={classes.active}>Settings</NavLink>\r\n      </div>\r\n      <div className={classes.item}>\r\n        <NavLink to=\"/users\" activeClassName={classes.active}>Find user</NavLink>\r\n      </div>\r\n    </nav>\r\n  )\r\n}\r\n\r\nexport default Navbar;","import React from 'react'\r\nimport classes from './News.module.css'\r\n\r\nconst News = () => {\r\n  return (\r\n    <div>\r\n      News\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default News;","import React from 'react';\r\nimport classes from './Music.module.css';\r\n\r\nconst Music = () => {\r\n  return (\r\n    <div>\r\n      Music\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Music;","import React from 'react';\r\nimport classes from './Settings.module.css';\r\n\r\nconst Settings = () => {\r\n  return (\r\n    <div>\r\n      Settings\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Settings;","export const updateObjectInArray = (items, itemId, objPropName, obj) => {\r\n  items.map(u => {\r\n    if(u[objPropName] === itemId)\r\n    {\r\n      return {...u, ...obj};\r\n    }\r\n    return u;\r\n  })\r\n}","import { usersAPI } from \"../api/api\"\r\nimport {updateObjectInArray} from \"../utils/object-helpers\"\r\n\r\nconst FOLLOW = \"FOLLOW\";\r\nconst UNFOLLOW = \"UNFOLLOW\";\r\nconst SET_USERS = \"SET_USERS\";\r\nconst SET_CURRENT_PAGE = \"SET_CURRENT_PAGE\";\r\nconst SET_TOTAL_USERS_COUNT = \"SET_TOTAL_USERS_COUNT\";\r\nconst TOGGLE_IS_FETCHING = \"TOGGLE_IS_FETCHING\";\r\nconst TOGGLE_FOLLOWING_IS_PROGRESS = \"TOGGLE_FOLLOWING_IS_PROGRESS\"\r\n\r\nconst initiallState = {\r\n  users: [],\r\n  pageSize: 5,\r\n  totalUsersCount: 0,\r\n  currentPage: 1,\r\n  isFetching: false,\r\n  isFollowingInProgress: [false, null]\r\n}\r\n\r\nconst UsersReducer = (state = initiallState, action) => {\r\n  switch(action.type)\r\n  {\r\n    case FOLLOW:\r\n      return {\r\n        ...state, \r\n        users: updateObjectInArray(state.users, action.userId, \"id\", {followed: true})\r\n      };\r\n\r\n    case UNFOLLOW:\r\n      return {\r\n        ...state, \r\n        users: updateObjectInArray(state.users, action.userId, \"id\", {followed: false})\r\n      };\r\n\r\n    case SET_USERS:\r\n      return {\r\n        ...state,\r\n        users: [...action.users]\r\n      }\r\n    case SET_CURRENT_PAGE:\r\n    return {\r\n      ...state,\r\n      currentPage: action.currentPage\r\n    }\r\n    case SET_TOTAL_USERS_COUNT:\r\n      return {\r\n        ...state, \r\n        totalUsersCount: action.totalUsersCount\r\n      }\r\n    case TOGGLE_IS_FETCHING:\r\n      return {\r\n        ...state,\r\n        isFetching: action.isFetching\r\n      }\r\n    case TOGGLE_FOLLOWING_IS_PROGRESS:\r\n      return {\r\n        ...state,\r\n        isFollowingInProgress: action.isFetching ? [...state.isFollowingInProgress, action.userId] : \r\n        state.isFollowingInProgress.filter(id => id !== action.userId)\r\n      }\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n\r\nexport const follow = (userId) => ({type: FOLLOW, userId})\r\nexport const unfollow = (userId) => ({type: UNFOLLOW, userId})\r\nexport const setUsers = (users) => ({\r\n  type: SET_USERS, users \r\n})\r\nexport const setCurrentPage = (currentPage) => ({\r\n  type: SET_CURRENT_PAGE, currentPage\r\n})\r\nexport const setUsersTotalCount = (totalUsersCount) => ({\r\n  type: SET_TOTAL_USERS_COUNT, totalUsersCount\r\n})\r\nexport const toggleIsFetching = (isFetching) => ({\r\n  type: TOGGLE_IS_FETCHING,\r\n  isFetching\r\n})\r\n\r\nexport const toggleFollowingProgress = (isFetching, userId) => ({\r\n  type: TOGGLE_FOLLOWING_IS_PROGRESS,\r\n  isFetching,\r\n  userId\r\n})\r\n\r\nexport const getUsers = (currentPage, pageSize) => {\r\n  return async (dispatch) => {\r\n    dispatch(toggleIsFetching(true));\r\n    dispatch(setCurrentPage(currentPage));\r\n    let data = await usersAPI.getUsers(currentPage, pageSize);\r\n    dispatch(toggleIsFetching(false));\r\n    dispatch(setUsers(data.items));\r\n    dispatch(setUsersTotalCount(data.totalCount));\r\n  }\r\n}\r\n\r\nexport const pageChanged = (p, pageSize) => {\r\n  return async (dispatch) => {\r\n    dispatch(toggleIsFetching(true));\r\n    dispatch(setCurrentPage(p));\r\n\r\n    let data = await usersAPI.getUsers(p, pageSize);\r\n    dispatch(toggleIsFetching(false));\r\n    dispatch(setUsers(data.items));\r\n  }\r\n}\r\n\r\nconst followUnfollowFlow = async (dispatch, userId, apiMethod, actionCreator) => {\r\n  dispatch(toggleFollowingProgress(true, userId));\r\n  let data = await apiMethod(userId);\r\n  if(data.resultCode === 0)\r\n  {\r\n    dispatch(actionCreator(userId));\r\n  }\r\n  dispatch(toggleFollowingProgress(false, userId));\r\n}\r\n\r\nexport const acceptFollow = (id) => {\r\n  return async (dispatch) => {\r\n    followUnfollowFlow(dispatch, id, usersAPI.postUser.bind(usersAPI), follow);\r\n  } \r\n}\r\n\r\nexport const acceptUnfollow = (id) => {\r\n  return async (dispatch) => {\r\n    followUnfollowFlow(dispatch, id, usersAPI.deleteUser.bind(usersAPI), unfollow);\r\n  }\r\n}\r\n\r\nexport default UsersReducer;","import React, {useState} from \"react\";\r\nimport styles from \"./Paginator.module.css\"\r\n\r\nlet Pagination = (props) => {\r\n  let pagesCount = Math.ceil(props.totalUsersCount / props.pageSize)\r\n\r\n  let pages = [];\r\n  for(let i = 1; i <= pagesCount; i++)\r\n  {\r\n    pages.push(i);\r\n  }\r\n\r\n  let portionSize = 10;\r\n  let portionCount = Math.ceil(pagesCount / portionSize);\r\n  let [portionNumber, setPortionNumber] = useState(1);\r\n  let leftBorder = (portionNumber - 1) * portionSize + 1;\r\n  let rightBorder = portionNumber*portionSize;\r\n\r\n  return (\r\n    <div>\r\n      { portionNumber > 1 && <button className={styles.btn} onClick={ () => { setPortionNumber(portionNumber - 1) } }>prev</button> }\r\n      {pages.filter(p => p >= leftBorder && p <= rightBorder).map(p => (\r\n        <>\r\n          <span className={props.currentPage === p && styles.selectedPage || styles.pageNum} onClick={(e) => { props.onPageChanged(p) }}>{p}</span>\r\n        </>\r\n      ))}\r\n      { portionCount > portionNumber && <button className={styles.btn} onClick={ () => { setPortionNumber(portionNumber + 1) } }>next</button> }\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Pagination;","import React from \"react\";\r\nimport { NavLink } from \"react-router-dom\";\r\nimport styles from \"./users.module.css\"\r\n\r\nconst User = (props) => {\r\n  return (\r\n    <div>\r\n      <span>\r\n        <div>\r\n          <NavLink to={\"/profile/\" + props.user.id}>\r\n            <img src={props.user.photos.small != null ? props.user.photos.small : \"https://static.vecteezy.com/system/resources/previews/002/275/847/original/male-avatar-profile-icon-of-smiling-caucasian-man-vector.jpg\"} className={styles.userPhoto} alt=\"userPhoto\"/>\r\n          </NavLink>\r\n        </div>\r\n        <div>\r\n          {props.user.followed \r\n          ? <button disabled={props.isFollowingInProgress.some(id => id === props.user.id)} onClick={() => {\r\n            props.acceptUnfollow(props.user.id);\r\n          }}>Unfollow</button>\r\n          : <button disabled={ props.isFollowingInProgress.some(id => id === props.user.id)} onClick={() => {\r\n            props.acceptFollow(props.user.id);\r\n          }}>Follow</button>}\r\n        </div>\r\n      </span>\r\n      <span>\r\n        <span>\r\n          <div>\r\n            {props.user.name}\r\n          </div>\r\n          <div>\r\n            {props.user.status}\r\n          </div>\r\n        </span>\r\n        <span>\r\n          <div>\r\n            {\"user.location.country\"}\r\n          </div>\r\n          <div>\r\n            {\"user.location.city\"}\r\n          </div>\r\n        </span>\r\n      </span>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default User;","import React from \"react\";\r\nimport { NavLink } from \"react-router-dom\";\r\nimport { unfollow } from \"../../redux/usersReducer\";\r\nimport Pagination from \"../common/Paginator/Paginator\";\r\nimport User from \"./User\";\r\nimport styles from \"./users.module.css\"\r\n\r\nlet Users = (props) => {\r\n  return (\r\n    <div>\r\n      <Pagination currentPage={props.currentPage} onPageChanged={props.onPageChanged} totalUsersCount={props.totalUsersCount} pageSize={props.pageSize}/>\r\n      {\r\n        props.users.map(user => <User user={user} isFollowingInProgress={props.isFollowingInProgress} key={user.id} unfollow={unfollow} follow={props.follow}/>)\r\n      }\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Users;","export const addUsers = (state) => {\r\n  return state.usersPage.users;\r\n}\r\n\r\nexport const getPageSize = (state) => {\r\n  return state.usersPage.pageSize;\r\n}\r\n\r\nexport const getTotalUsersCount = (state) => {\r\n  return state.usersPage.totalUsersCount;\r\n}\r\n\r\nexport const getCurrentPage = (state) => {\r\n  return state.usersPage.currentPage;\r\n}\r\n\r\nexport const getIsFetching = (state) => {\r\n  return state.usersPage.isFetching;\r\n}\r\n\r\nexport const getIsFollowingInProgress = (state) => {\r\n  return state.usersPage.isFollowingInProgress;\r\n}\r\n","import React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { follow, setCurrentPage, unfollow, getUsers, pageChanged, acceptFollow, acceptUnfollow } from \"../../redux/usersReducer\";\r\nimport Users from \"./Users\";\r\nimport Preloader from \"../common/preloader/Preloader\";\r\nimport { compose } from \"redux\";\r\nimport { addUsers, getCurrentPage, getIsFetching, getIsFollowingInProgress, getPageSize, getTotalUsersCount } from \"../../redux/usersSelectors\";\r\n\r\nclass UsersAPIComponent extends React.Component\r\n{\r\n  componentDidMount()\r\n  {\r\n    this.props.getUsers(this.props.currentPage, this.props.pageSize);\r\n  }\r\n\r\n  onPageChanged = (p) => {\r\n    this.props.pageChanged(p, this.props.pageSize)\r\n  }\r\n\r\n  render()\r\n  {\r\n    return <>\r\n      {this.props.isFetching ? <Preloader/> :\r\n      <Users totalUsersCount={this.props.totalUsersCount} pageSize={this.props.pageSize} currentPage={this.props.currentPage} onPageChanged={this.onPageChanged} users={this.props.users} follow={this.props.follow} unfollow={this.props.unfollow}\r\n      isFollowingInProgress={this.props.isFollowingInProgress} acceptFollow={this.props.acceptFollow} acceptUnfollow={this.props.acceptUnfollow}/>}\r\n    </>\r\n  }\r\n}\r\n\r\nlet mapStateToProps = (state) => {\r\n  return {\r\n    users: addUsers(state),\r\n    pageSize: getPageSize(state),\r\n    totalUsersCount: getTotalUsersCount(state),\r\n    currentPage: getCurrentPage(state),\r\n    isFetching: getIsFetching(state),\r\n    isFollowingInProgress: getIsFollowingInProgress(state)\r\n  }\r\n}\r\n\r\nexport default compose (\r\n  connect(mapStateToProps, {\r\n    follow,\r\n    unfollow,\r\n    setCurrentPage,\r\n    getUsers, \r\n    pageChanged, acceptFollow, acceptUnfollow}),\r\n  //withAuthRedirect\r\n)(UsersAPIComponent);","import React from 'react';\r\nimport finalPropsSelectorFactory from 'react-redux/es/connect/selectorFactory';\r\nimport { NavLink } from 'react-router-dom';\r\nimport classes from './Header.module.css';\r\n\r\nconst Header = (props) => {\r\n  return (\r\n    <header className={classes.header}>\r\n      <img src='logo192.png' alt='image192'/>\r\n      <div className={classes.loginBlock}>\r\n        {props.isAuth \r\n        ? <div> {props.login} - <button onClick={props.logout}>Logout</button></div> \r\n        : <NavLink to={'login'}>Login</NavLink>}\r\n      </div>\r\n    </header>\r\n  )\r\n}\r\n\r\nexport default Header;","import React from \"react\";\r\nimport { connect } from \"react-redux/es/exports\";\r\nimport Header from \"./Header\";\r\nimport { logout } from \"../../redux/authReducer\";\r\n\r\nclass HeaderContainer extends React.Component{\r\n\r\n  render(){\r\n    return <Header {...this.props}/>\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n    isAuth: state.auth.isAuth,\r\n    login: state.auth.login\r\n})\r\n\r\nexport default connect(mapStateToProps, {logout})(HeaderContainer);","import { getAuthUserData } from \"./authReducer\";\r\n\r\nconst SET_INITIALISED = \"SET_INITIALISED\"\r\n\r\nlet initialState = {\r\n  initialised: false\r\n}\r\n\r\nconst appReducer = (state = initialState, action) => {\r\n  switch(action.type)\r\n  {\r\n    case SET_INITIALISED:\r\n      return {\r\n        ...state,\r\n        initialised: true\r\n      }\r\n    default: \r\n      return state;\r\n  }\r\n}\r\n\r\nexport const initialisedSuccess = () => ({\r\n  type: SET_INITIALISED\r\n});\r\n\r\nexport const initialise = () => (dispatch) => {\r\n  let promise = dispatch(getAuthUserData());\r\n\r\n  promise.then(() => {\r\n    dispatch(initialisedSuccess());\r\n  });\r\n}\r\n\r\nexport default appReducer;","import { applyMiddleware, createStore, compose,combineReducers} from \"redux\";\r\nimport AuthReducer from \"./authReducer\";\r\nimport dialogsReducer from \"./dialogsReducer\";\r\nimport profileReducer from \"./profileReducer\";\r\nimport UsersReducer from \"./usersReducer\";\r\nimport thunkMiddleware from \"redux-thunk\";\r\nimport { reducer as formReducer } from 'redux-form';\r\nimport appReducer from \"./appReducer\";\r\n\r\nconst reducer = combineReducers({\r\n  profilePage: profileReducer,\r\n  dialogsPage: dialogsReducer,\r\n  usersPage: UsersReducer,\r\n  auth: AuthReducer,\r\n  form: formReducer,\r\n  app: appReducer \r\n})\r\n\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\nconst store = createStore(reducer, composeEnhancers(applyMiddleware(thunkMiddleware)));\r\n\r\nwindow.__store__ = store;\r\n\r\nexport default store;","import React, { Suspense } from \"react\";\r\nimport Preloader from \"../components/common/preloader/Preloader\";\r\n\r\nexport const withSuspense = (Component) => {\r\n  return (props) => {\r\n    return <Suspense fallback={<Preloader/>}>\r\n      <Component {...props} />\r\n    </Suspense>\r\n  };\r\n}","import React from 'react';\nimport './App.css';\nimport Navbar from './components/Navbar/Navbar';\n// import DialogsContainer from './components/Dialogs/DialogsContainer';\nimport News from './components/News/News';\nimport Music from './components/Music/Music';\nimport Login from './components/Login/login';\nimport Settings from './components/Settings/Settings';\nimport { Route, withRouter } from 'react-router-dom';\nimport UsersContainer from './components/Users/UsersContainer';\n//import ProfileContainer from './components/Profile/ProfileContainer';\nimport HeaderContainer from './components/Header/HeaderContainer';\nimport { connect } from 'react-redux/es/exports';\nimport { initialise } from './redux/appReducer';\nimport { compose } from 'redux';\nimport Preloader from './components/common/preloader/Preloader';\nimport store from './redux/redux-store';\nimport {Provider} from 'react-redux';\nimport { HashRouter } from 'react-router-dom';\nimport { withSuspense } from './hoc/withSuspense';\n\nconst DialogsContainer = React.lazy(() => import('./components/Dialogs/DialogsContainer'));\nconst ProfileContainer = React.lazy(() => import('./components/Profile/ProfileContainer'));\n\nclass App extends React.Component {\n\n  componentDidMount()\n  {\n    this.props.initialise();\n  }\n\n  render(){\n    if(!this.props.initialised)\n    {\n      return <Preloader/>\n    }\n\n    return (\n        <div className='app-wrapper'>\n          <HeaderContainer />\n          <Navbar />\n          <div className='app-content'>\n            <Route path='/profile/:userId?' render={withSuspense(ProfileContainer)}/>\n            <Route path='/dialogs' render={withSuspense(DialogsContainer)}/>\n            <Route path='/news' render={() => <News />}/>\n            <Route path='/music' render={() => <Music />}/>\n            <Route path='/settings' render={() => <Settings />}/>\n            <Route path=\"/users\" render={()=> <UsersContainer/>}/>\n            <Route path='/login' render={()=><Login />}/>\n          </div>\n        </div>\n    );\n  }\n}\n\nconst mapStateToProps = (state) => ({\n  initialised: state.app.initialised\n});\n\nlet AppContainer = compose(\n  withRouter, \n  connect(mapStateToProps, {initialise}))(App);\n\nlet MainApp = (props) => {\n  return (\n  <Provider store={store}>\n    <HashRouter basename={process.env.PUBLIC_URL}>\n      <AppContainer/>\n    </HashRouter>\n  </Provider>);\n}\n\nexport default MainApp;","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport MainApp from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <MainApp/>,\n  document.getElementById('root')\n);\n\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n","export default __webpack_public_path__ + \"static/media/preloader.e41ef816.gif\";","import preloader from \"../../../assets/images/preloader.gif\";\r\n\r\nlet Preloader = () => {\r\n  return <img src={preloader}/>\r\n}\r\n\r\nexport default Preloader;","// extracted by mini-css-extract-plugin\nmodule.exports = {\"formControl\":\"FormsControlls_formControl__1WxmN\",\"error\":\"FormsControlls_error__Ri2hi\",\"formSummaryError\":\"FormsControlls_formSummaryError__siDLU\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"pageNum\":\"Paginator_pageNum__1sQf7\",\"selectedPage\":\"Paginator_selectedPage__2oqNM\",\"btn\":\"Paginator_btn__aUqzr\"};","import React from \"react\";\r\nimport styles from \"./FormsControlls.module.css\"\r\n\r\nconst FormControl = ({input, meta, ...props}) => {\r\n  const hasError = meta.error && meta.touched;\r\n  \r\n  return (\r\n    <div className={styles.formControl + \" \" + (hasError ? styles.error : \"\")}>\r\n      <div>\r\n        {props.children}\r\n      </div>\r\n      { hasError && <span>{meta.error}</span> }\r\n    </div>\r\n  )\r\n}\r\n\r\nexport const Textarea = (props) => {\r\n  return (\r\n    <FormControl {...props}>\r\n      <textarea {...props.input} {...props}/>\r\n    </FormControl>\r\n  )\r\n}\r\n\r\nexport const Input = (props) => {\r\n  return (\r\n    <FormControl {...props}>\r\n      <input {...props.input} {...props}/>\r\n    </FormControl>\r\n  )\r\n}\r\n","export const requiredField = (value) => {\r\n  if(value)\r\n  {\r\n    return undefined;\r\n  }\r\n  return 'Field is required!';\r\n}\r\n\r\nexport const maxLengthCreator = (maxLength) => (value) => {\r\n  if(value && value.length > maxLength)\r\n  {\r\n    return `Max length is ${maxLength} symbols!`;\r\n  }\r\n  return undefined;\r\n}"],"sourceRoot":""}